framework:
  workflows:
    hello_world:
      type: workflow
      marking_store:
        type: method
        property: status
      supports:
        - SprykerSdk\SdkContracts\Entity\WorkflowInterface
      initial_marking: start
      places:
        - start
        - middle
        - done
      transitions:
        hello:
          from: start
          to: middle
          metadata:
            allowToFail: true
            task: hello:world
            workflowBefore: hello_php
        bye:
          from: middle
          to: done
          metadata:
            task: bye:world
    hello_php:
      type: state_machine
      marking_store:
        type: method
        property: status
      metadata:
        run: single
        re-run: true
      supports:
        - SprykerSdk\SdkContracts\Entity\WorkflowInterface
      initial_marking: start
      places:
        - start
        - middle
        - end
        - done
      transitions:
        hello:
          from: start
          to: middle
          metadata:
            task: hello:php
            allowToFail: true
            transitionResolver: # Resolver needs for resolve next transition
              service: transition_boolean_resolver
              settings:
                failed: bye # transition name for filed result
                successful: world # transition name for successful result
        world:
          from: middle
          to: end
        bye:
          from: middle
          to: done
